@model IndexFilesViewModel

@{
    var hasDirectories = Model.Directories.Any();
    var hasFiles = Model.Files.Any();
    var hasOneFolder = Model.Directories.Count() == 1;
    var directory = Model.Directories.FirstOrDefault();
    var folderIsBack = directory.IsNotNull() && directory?.Title == "..";
}    

@if (!hasDirectories && !hasFiles || !hasFiles && hasOneFolder && folderIsBack)
{
    <h2>Folder is empty.</h2>
}

<ul>
    @foreach (var dir in Model.Directories)
    {
        <li title="@dir.FullPath">
            <a href="@Url.Action("Index", new {path = dir.FullPath})" class="folder-line"><i class="material-icons">folder</i> @dir.Title</a>
        </li>
    }
</ul>
<ol>
    @foreach (var file in Model.Files)
    {
        <li title="@file.FullFilePath">
            @file.Title 
            <a href="@Url.Action("Download", "File", new { id = file.Id })" target="_blank" class="download-icon" data-file-id="@file.Id"><i class="material-icons">file_download</i></a>
            <a href="@Url.Action("Get", "File", new { id = file.Id })" target="_blank" class="preivew-icon" data-file-id="@file.Id"><i class="material-icons">airplay</i></a>
            <br/>
            Created at: @file.CreationDate
        </li>
    }
</ol>